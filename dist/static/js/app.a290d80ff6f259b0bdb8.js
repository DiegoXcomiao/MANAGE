webpackJsonp([1],{"+Ihr":function(e,t){},"+skl":function(e,t){},0:function(e,t){},"0Q2j":function(e,t,a){"use strict";t.a=function(e,t,o,s){var r=a("QMp1");console.log(r.clientPath),console.log(r.serverPath);var i=r.serverPath+e;console.log(i);var c={pageIndex:o,pageNumber:s,obj:t};return new n.a(function(e,t){l.a.post(i,c,{"Content-Type":"application/json;charset=UTF-8"}).then(function(t){e(t.data)},function(e){t(e)})})};var o=a("//Fk"),n=a.n(o),s=a("mtWM"),l=a.n(s);l.a.defaults.timeout=3e4},"6H2h":function(e,t,a){"use strict";(function(e){var o=a("0Q2j");t.a={props:{tableData:Object},data:function(){return{scrolWidth:"0px",i:0,formLabelWidth:"80px",type:"",form:{roleId:"",code:"",name:""}}},created:function(){e.count=0,e.selection=[]},mounted:function(){this.scrolWidth=window.innerWidth+"px"},methods:{closeDialog:function(){this.form.code="",this.form.name=""},changeTableSort:function(e){var t=this;console.log(e);var a=e.prop,o=e.order;"createTime"===a&&this.tableData.lineItems.items.map(function(e){e.createTime=t.$moment(e.createTime).valueOf()}),this.tableData.lineItems.items="roleId"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a]-e[a]}):this.tableData.lineItems.items.sort(function(e,t){return e[a]-t[a]}):"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}),console.log(this.tableData.lineItems.items)},width:function(){return e.count===this.tableData.table.width.length&&(e.count=0),this.tableData.table.width[e.count++]+"px"},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #049EFF;color: #fff;font-weight: 500;"},handleCurrentChange:function(t){e.selection=t},pageChange:function(e){this.$emit("pageChange",e)},createInfor:function(){var e=this;Object(o.a)("/queryCode",{roleId:0,code:"",name:""},0,0).then(function(t){console.log(t),"0"===t.code?e.form.code=t.obj.code:e.$message({message:"查询失败 "+t.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),this.tableData.dialogTableVisible=!0,this.type="createInfor"},editline:function(){var t=e.selection;void 0!==t.length&&1===t.length?(this.form.roleId=t[0].roleId,this.form.code=t[0].code,this.form.name=t[0].name,this.tableData.dialogTableVisible=!0,this.type="editline"):this.$message({message:"请选择一条数据进行修改",duration:2e3,type:"warning"})},deleteline:function(){var t=e.selection;if(void 0!==t.length&&1===t.length){if(!0===confirm("确定要删除吗")){var a={roleId:"",code:"",name:""};a.roleId=t[0].roleId,a.code=t[0].code,a.name=t[0].name,this.$emit("deleteline",a)}}else this.$message({message:"请选择一条数据进行删除",duration:2e3,type:"warning"})},submit:function(e,t){var a=this,o={roleId:"",code:"",name:""};o.code=e,console.log(e),o.name=t,this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;switch(a.type){case"editline":a.$emit("editline",o);break;case"createInfor":a.$emit("createInfor",o)}})}}}}).call(t,a("DuR2"))},"7P6J":function(e,t,a){"use strict";var o=a("BJ50"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{clss:"LayoutChild"}},[a("Breadcrumb",{style:{margin:"18px 0"}},[a("BreadcrumbItem",[e._v(e._s(e.name1))]),e._v(" "),a("BreadcrumbItem",[e._v(e._s(e.name2))])],1),e._v(" "),a("iframe",{style:{padding:"0px",minHeight:e.height+"px",minWidth:"100%",buttom:"-100"},attrs:{src:e.clientPath+e.route,frameborder:"0",scrolling:"auto"}})],1)},staticRenderFns:[]};var s=function(e){a("+Ihr")},l=a("VU/8")(o.a,n,!1,s,"data-v-78f9ec82",null);t.a=l.exports},BJ50:function(e,t,a){"use strict";(function(e){t.a={inject:["reload"],data:function(){return{clientPath:"",route:"",name1:"",name2:"",height:0}},methods:{},created:function(){console.log(e.userCode),this.route=e.route,this.name1=e.name1,this.name2=e.name2;var t=a("QMp1");console.log(t.clientPath),console.log(t.serverPath),this.clientPath=t.clientPath;var o=window.innerHeight;this.height=o-64-18-18-25},mounted:function(){var t=this;this.$eventBus.$on("my-window-change",function(a){console.log(a),console.log(e.userCode),t.route=e.route,t.name1=e.name1,t.name2=e.name2;var o=window.innerHeight;t.height=o-64-18-18-25,t.reload(),e.flag=1})}}}).call(t,a("DuR2"))},C1pF:function(e,t,a){"use strict";(function(e){t.a={name:"Menu",props:["menuList"],data:function(){return{}},methods:{goPath:function(t){e.route=t.route,e.name1=t.parentName,e.name2=t.text,e.active=t.resourceExtendAttr,this.$eventBus.$emit("my-window-change","my-window-change msg")}}}}).call(t,a("DuR2"))},DmJO:function(e,t){},F3J1:function(e,t){},Ggse:function(e,t,a){"use strict";var o=a("C1pF"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.menuList,function(t){return[t.children?a("el-submenu",{key:t.resourceId,style:{minWidth:"200px",background:"#535c70"},attrs:{index:t.resourceExtendAttr}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("\n        "+e._s(t.text)+"\n      ")]),e._v(" "),t.children?a("Menu",{attrs:{menuList:t.children}}):e._e()],2):a("el-menu-item",{key:t.resourceId,style:{minWidth:"200px",background:"#535c70"},attrs:{index:t.resourceExtendAttr},on:{click:function(a){e.goPath(t)}}},[a("i",{staticClass:"el-icon-location"}),e._v("\n        "+e._s(t.text)+"\n    ")])]})],2)},staticRenderFns:[]};var s=function(e){a("d5UD")},l=a("VU/8")(o.a,n,!1,s,null,null);t.a=l.exports},J8yN:function(e,t,a){"use strict";(function(e){var o=a("0Q2j"),n=a("0XjM"),s=a.n(n),l=a("DmJO");a.n(l);t.a={components:{TreeSelect:s.a},data:function(){return{tableData:{isShow:!0,dialogTableVisible:!1,lineItems:{items:[],totalCount:0},table:{header:{},width:[]},fenye:{pageIndex:1,pageSize:20}},scrolWidth:"0px",i:0,formLabelWidth:"80px",type:"",form:{code:"",name:""},data1:[]}},mounted:function(){1!==e.flag&&(this.getTableData("noMsg"),e.flag=0),this.scrolWidth=window.innerWidth+"px"},created:function(){e.count=0,e.selection=[],this.code="",this.name=""},methods:{getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=[];if(e&&0!==e.length)for(var o=0,n=e.length;o<n;o++){var s={};s.title=e[o].text,s.id=e[o].resourceId,s.expand=!0,-1!==t.indexOf(s.id)&&s.id%100!=0&&(s.checked=!0),s.children=this.getData(e[o].children,t),a.push(s)}return a},handleCurrentChange:function(t){e.selection=t},changeTableSort:function(e){var t=this;console.log(e);var a=e.prop,o=e.order;"createTime"===a&&this.tableData.lineItems.items.map(function(e){e.createTime=t.$moment(e.createTime).valueOf()}),this.tableData.lineItems.items="roleId"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a]-e[a]}):this.tableData.lineItems.items.sort(function(e,t){return e[a]-t[a]}):"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}),console.log(this.tableData.lineItems.items)},closeDialog:function(){this.form.code="",this.form.name="",this.data1=[]},width:function(){return e.count===this.tableData.table.width.length&&(e.count=0),this.tableData.table.width[e.count++]+"px"},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #049EFF;color: #fff;font-weight: 500;"},dealTableData:function(e){this.tableData.lineItems=e,this.tableData.table.header={roleId:"角色ID",code:"角色编号",name:"角色名称"},this.tableData.table.width=[100,100,200]},pageChange:function(e){this.tableData.fenye.pageIndex=e,this.getTableData("noMsg")},getTableData:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});console.log(this.tableData.fenye.pageIndex),console.log(this.tableData.fenye.pageSize),console.log("get data from server!");Object(o.a)("/queryRole",{roleId:0,code:"",name:""},this.tableData.fenye.pageIndex,this.tableData.fenye.pageSize).then(function(a){if(console.log(a),"0"===a.code){"noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"});var o={items:a.lobj,totalCount:a.totalCount};t.dealTableData(o)}else t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),a.close()},editline:function(){var t=this,n=e.selection;if(void 0!==n.length&&1===n.length)if(this.form.userId=n[0].userId,this.form.code=n[0].code,this.form.name=n[0].name,"000001"!==n[0].code){var s={roleCode:this.form.code};Object(o.a)("/queryRoleMenus",s,0,0).then(function(e){if(console.log(e),"0"===e.code){var o=a("qzh/"),n=o.children?o.children:[];if(e.obj.length>0){var s=e.obj[0].menusId;console.log(s),t.data1=t.getData(n,s)}else t.data1=t.getData(n,"");t.tableData.dialogTableVisible=!0,t.type="editline"}else t.$message({message:"修改失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}else this.$message({message:"请勿修改系统管理员权限",duration:2e3,type:"warning"});else this.$message({message:"请选择一条数据进行修改",duration:2e3,type:"warning"})},submit:function(e,t){var a=this;console.log(e),console.log(t),console.log(this.$refs.tree.getCheckedNodes());var n=this.$refs.tree.getCheckedNodes();if(0===n.length)return this.$message({message:"菜单至少必须勾选一个",duration:3e3,type:"warning"}),!1;for(var s="",l=0;l<n.length;l++)console.log(n[l].id),s+=n[l].id,s+="|";var r={roleCode:e,menusId:s};this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;switch(a.type){case"editline":Object(o.a)("/updateRoleMenus",r,0,0).then(function(e){console.log(e),"0"===e.code?(a.getTableData("noMsg"),a.$message({message:e.msg,duration:3e3,type:"success"}),a.tableData.dialogTableVisible=!1):a.$message({message:"修改失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}})}}}}).call(t,a("DuR2"))},Jo5V:function(e,t,a){"use strict";(function(e){t.a=function(t,o,s,r){var i=a("QMp1");console.log(i.clientPath),console.log(i.serverPath);var c=i.serverPath+t;console.log(c);var d={pageIndex:s,pageNumber:r,obj:o};l.a.ajax({type:"POST",url:c,async:!1,timeout:3e4,dataType:"json",data:n()(d),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json;charset=utf-8")},success:function(t,a,o){console.log(t),e.data=t},error:function(t,a,o){console.log(a),e.error=a}})};var o=a("mvHQ"),n=a.n(o),s=a("7t+N"),l=a.n(s)}).call(t,a("DuR2"))},MEVT:function(e,t,a){"use strict";(function(e){var o=a("Ggse"),n=a("7P6J"),s=a("Jo5V"),l=a("0Q2j");t.a={data:function(){return{userCode:"",userName:"",userRole:"",userRoleName:"",picpath:"",route:"",name1:"",name2:"",active:"",height:0,lheight:0,menu:[],defaultProps:{children:"children",label:"text"}}},components:{menuu:o.a,LayoutChild:n.a},created:function(){console.log(e.userCode),this.userCode=e.userCode;var t={userId:0,name:"",code:e.userCode,nodeCode:"",roleCode:"",nodeName:"",roleName:"",telno:"",password:"",verifyCode:"",picpath:"",enabled:""},o=a("QMp1");if(console.log(o.clientPath),console.log(o.serverPath),e.data=[],e.error="",Object(s.a)("/queryUser",t,0,0),""===e.error)if("0"===e.data.code){this.userName=e.data.lobj[0][0].name,this.userRole=e.data.lobj[0][0].roleCode,this.userRoleName=e.data.lobj[0][0].roleName,this.picpath=e.data.lobj[0][0].picpath,null===this.picpath||""===this.picpath?this.picpath=o.serverPath+"/image/default.jpg":this.picpath=o.serverPath+this.picpath,console.log(this.picpath);var n={roleCode:this.userRole};if(e.data=[],e.error="",Object(s.a)("/queryRoleMenus2",n,0,0),""===e.error)if("0"===e.data.code){for(var l="",r=0;r<e.data.lobj[0].length;r++)l+=e.data.lobj[0][r].menusId;console.log(l);var i=a("qzh/");this.menu=this.getData(i.children?i.children:[],l),console.log(this.menu);var c="";this.menu.length>0&&void 0!==this.menu[0].children&&this.menu[0].children.length>0&&(c=this.menu[0].children[0].resourceExtendAttr,e.route=this.menu[0].children[0].route,e.name2=this.menu[0].children[0].text,e.name1=this.menu[0].children[0].parentName),void 0===e.active||""===e.active?this.active=c:this.active=e.active}else this.$message({message:"查询失败 "+e.data.msg,duration:3e3,type:"warning"});else console.log(e.error)}else this.$message({message:"查询失败 "+e.data.msg,duration:3e3,type:"warning"});else console.log(e.error)},mounted:function(){var e=this;window.onresize=function(){return e.lheight=e.$refs.aaa.offsetHeight-e.$refs.bbb.offsetHeight-5,console.log(e.lheight),e.height=e.lheight,void e.$eventBus.$emit("my-window-change","my-window-change msg")},this.lheight=this.$refs.aaa.offsetHeight-this.$refs.bbb.offsetHeight-5,console.log(this.lheight),this.height=this.lheight,window.addEventListener("beforeunload",function(t){return e.beforeunloadHandler(t)}),window.addEventListener("unload",function(t){return e.unloadHandler(t)})},destroyed:function(){var e=this;window.removeEventListener("beforeunload",function(t){return e.beforeunloadHandler(t)}),window.removeEventListener("unload",function(t){return e.unloadHandler(t)})},methods:{onLogout:function(){if(!0===confirm("确定要注销吗")){var t=sessionStorage.getItem("userCode");e.data=[],e.error="";var a={code:t};Object(s.a)("/logout",a,0,0),""===e.error&&"0"===e.data.code&&(sessionStorage.removeItem("userCode"),this.$router.replace("/"))}},onUserInfo:function(){var e=this.userName;e+="\r\n",e+=this.userRoleName,console.log(e),this.$message({message:e,duration:3e3,type:"info"})},beforeunloadHandler:function(){this._beforeUnload_time=(new Date).getTime()},unloadHandler:function(t){var a=sessionStorage.getItem("userCode");e.data=[],e.error="";var o={code:a};Object(l.a)("/logout",o,0,0).then(function(e){console.log(e),"0"===e.code&&sessionStorage.removeItem("userCode")},function(e){console.log(e)})},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=[];if(e&&0!==e.length)for(var o=0,n=e.length;o<n;o++)if(-1!==t.indexOf(e[o].resourceId)){var s={};s.resourceOrder=e[o].resourceOrder,s.resourceId=e[o].resourceId,s.resourceExtendAttr=e[o].resourceExtendAttr,s.route=e[o].route,s.resourceCode=e[o].resourceCode,s.parentResId=e[o].parentResId,s.parentName=e[o].parentName,s.show=e[o].show,s.text=e[o].text;var l=e[o].children;l&&0!==l.length&&(s.children=this.getData(e[o].children,t)),a.push(s)}return a}}}}).call(t,a("DuR2"))},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick(function(){e.isRouterAlive=!1})}}},n,!1,function(e){a("iSp9")},null,null).exports,l=a("/ocq"),r=a("sonc"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"form1",staticClass:"login-form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("h2",{staticClass:"login-title"},[e._v("管理系统")]),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"用户编号",prop:"userCode",rules:[{required:!0,message:"用户编号不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:e.form.userCode,callback:function(t){e.$set(e.form,"userCode",t)},expression:"form.userCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户密码",prop:"password",rules:[{required:!0,message:"用户密码不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"40px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form1")}}},[e._v("用户登录")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.forgetPassword}},[e._v("忘记密码")])],1)],1),e._v(" "),e.tableData.dialogTableVisible?a("el-dialog",{style:{width:e.scrolWidth},attrs:{width:"40%",top:"10%",title:"修改密码",visible:e.tableData.dialogTableVisible},on:{"update:visible":function(t){e.$set(e.tableData,"dialogTableVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticClass:"userDialog",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户编号","label-width":e.formLabelWidth,prop:"code",rules:[{required:!0,message:"用户编号不能为空",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-14px"},attrs:{label:"新密码","label-width":e.formLabelWidth,prop:"password",rules:[{required:!0,message:"新密码不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码",autocomplete:"off",oninput:"if(value.length>30)value=value.slice(0,30)",clearable:!0},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-6px"},attrs:{label:"获取验证码","label-width":e.formLabelWidth2,prop:"verifyCode"}},[a("el-button",{attrs:{disabled:e.btnChangeEnable,type:"primary"},on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+"s")])],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-14px"},attrs:{label:"验证码","label-width":e.formLabelWidth,prop:"verifyCode",rules:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",oninput:"if(value.length>80)value=value.slice(0,80)",clearable:!0},model:{value:e.form.verifyCode,callback:function(t){e.$set(e.form,"verifyCode",t)},expression:"form.verifyCode"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit(e.form.code,e.form.verifyCode,e.form.password)}}},[e._v("\n        确 定\n      ")])],1)],1):e._e()],1)},staticRenderFns:[]};var c=function(e){a("ZDe9")},d=a("VU/8")(r.a,i,!1,c,null,null).exports,u=a("MEVT"),m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"aaa",staticClass:"layout"},[a("Layout",[a("Header",[a("div",{ref:"bbb"},[a("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[a("div",{staticClass:"layout-logo"},[a("Icon",{attrs:{type:"ios-keypad-outline",size:"36"}}),e._v("\n            管理系统\n          ")],1),e._v(" "),a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1"}},[a("img",{staticStyle:{"margin-top":"7px","margin-right":"0px"},attrs:{width:"50px",src:this.picpath,alt:"图片未找到"}})]),e._v(" "),a("MenuItem",{attrs:{name:"2"}},[e._v("\n              "+e._s(this.userName)+"\n            ")]),e._v(" "),a("MenuItem",{attrs:{name:"3"}},[a("a",{style:{color:"#ffffff"},on:{click:e.onUserInfo}},[e._v("用户信息")])]),e._v(" "),a("MenuItem",{attrs:{name:"4"}},[a("a",{style:{color:"#ffffff"},on:{click:e.onLogout}},[e._v("注销")])])],1)])],1)]),e._v(" "),a("Layout",[a("Sider",{style:{overflow:"auto",height:this.lheight+"px",minWidth:"100px",background:"#535c70"},attrs:{"hide-trigger":""}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#535c70","text-color":"#fff","active-text-color":"#ffd04b","unique-opened":"","default-active":e.active}},[a("menuu",{attrs:{menuList:e.menu}})],1)],1)],1)],1),e._v(" "),a("Layout",{style:{padding:"0 10px 10px"}},[a("LayoutChild")],1)],1)],1)],1)},staticRenderFns:[]};var h=function(e){a("wK7e")},g=a("VU/8")(u.a,m,!1,h,"data-v-2bb7e13c",null).exports,f={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("我的商品")])},staticRenderFns:[]};var p=a("VU/8")({mounted:function(){}},f,!1,function(e){a("PW4a")},"data-v-60b1793a",null).exports,b={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("我的商户")])},staticRenderFns:[]};var v=a("VU/8")({name:"MyMerchants"},b,!1,function(e){a("aggo")},"data-v-49a65030",null).exports,y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("商品报表")])},staticRenderFns:[]};var C=a("VU/8")({name:"GoodsTable"},y,!1,function(e){a("S3y3")},"data-v-7d964259",null).exports,w={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("商户报表")])},staticRenderFns:[]};var D=a("VU/8")({name:"MerchantsTable"},w,!1,function(e){a("nT9i")},"data-v-3b05f2f9",null).exports,x=a("gkj1"),I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"RoleManagement"},[t("RoleManagementPage",{attrs:{tableData:this.tableData},on:{pageChange:this.pageChange,createInfor:this.createInfor,editline:this.editline,deleteline:this.deleteline}})],1)},staticRenderFns:[]};var _=function(e){a("F3J1")},$=a("VU/8")(x.a,I,!1,_,"data-v-d5b09ed4",null).exports,T=a("J8yN"),k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout",style:{width:e.scrolWidth,overflow:"auto"}},[a("Layout",[a("Layout",[a("Content",{style:{background:"#ffffff",padding:"0 10px 10px"}},[a("div",{staticClass:"clearfix",staticStyle:{margin:"10px"}},[a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editline()}}},[e._v("修改")])],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{border:"",span:0,"row-style":{padding:"0px",height:"10px"},"header-cell-style":e.tableHeaderColor,"cell-style":{padding:"0px"},stripe:"",height:300,data:e.tableData.lineItems.items,"default-sort":{prop:"userId",order:"descending"}},on:{"selection-change":e.handleCurrentChange,"sort-change":e.changeTableSort}},[a("el-table-column",{attrs:{label:"选择","reserve-selection":!1,prop:"uuid",width:"40px",type:"selection"}}),e._v(" "),e._l(e.tableData.table.header,function(t,o){return"id"!=o?a("el-table-column",{key:t,attrs:{label:t,width:e.width(),prop:o,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row[o]))])]}}])}):e._e()})],2),e._v(" "),e.tableData.isShow?a("el-pagination",{attrs:{"current-page":e.tableData.pageIndex,"page-size":e.tableData.fenye.pageSize,layout:"total, prev, pager, next, jumper",total:e.tableData.lineItems.totalCount},on:{"current-change":e.pageChange}}):e._e()],1),e._v(" "),e.tableData.dialogTableVisible?a("el-dialog",{style:{width:e.scrolWidth},attrs:{title:"角色权限信息",visible:e.tableData.dialogTableVisible},on:{"update:visible":function(t){e.$set(e.tableData,"dialogTableVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticClass:"inputWidth",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"角色编号","label-width":e.formLabelWidth,prop:"code",rules:[{required:!0,message:"角色编号不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth,prop:"name",rules:[{required:!0,message:"角色名称不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("Tree",{ref:"tree",attrs:{data:e.data1,"show-checkbox":"",multiple:""}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit(e.form.code,e.form.name)}}},[e._v("确 定")])],1)],1):e._e()],1)],1)],1)},staticRenderFns:[]};var S=function(e){a("S6Rv")},j=a("VU/8")(T.a,k,!1,S,null,null).exports,M=a("cZNz"),E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout",style:{width:e.scrolWidth}},[a("Layout",[a("Layout",[a("Sider",{style:{overflow:"auto",minWidth:"200px",background:"#ffffff",border:"1px solid #d7dde4",padding:"0 10px 10px"},attrs:{"hide-trigger":""}},[a("Tree",{attrs:{data:e.data1},on:{"on-select-change":e.handleSelect}})],1),e._v(" "),a("Content",{style:{background:"#ffffff",padding:"0 10px 10px"}},[a("div",{staticClass:"clearfix",staticStyle:{margin:"10px"}},[a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createInfor()}}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editline()}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteline()}}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{border:"",span:0,"row-style":{padding:"0px",height:"10px"},"header-cell-style":e.tableHeaderColor,"cell-style":{padding:"0px"},stripe:"",height:300,data:e.tableData.lineItems.items,"default-sort":{prop:"nodeId",order:"descending"}},on:{"sort-change":e.changeTableSort}},e._l(e.tableData.table.header,function(t,o){return"id"!=o?a("el-table-column",{key:t,attrs:{label:t,width:e.width(),prop:o,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row[o]))])]}}])}):e._e()})),e._v(" "),e.tableData.isShow?a("el-pagination",{attrs:{"current-page":e.tableData.pageIndex,"page-size":e.tableData.fenye.pageSize,layout:"total, prev, pager, next, jumper",total:e.tableData.lineItems.totalCount},on:{"current-change":e.pageChange}}):e._e()],1),e._v(" "),e.tableData.dialogTableVisible?a("el-dialog",{style:{width:e.scrolWidth},attrs:{title:"机构信息",visible:e.tableData.dialogTableVisible},on:{"update:visible":function(t){e.$set(e.tableData,"dialogTableVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticClass:"inputWidth",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"机构编号","label-width":e.formLabelWidth,prop:"code",rules:[{required:!0,message:"机构编号不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构名称","label-width":e.formLabelWidth,prop:"name",rules:[{required:!0,message:"机构名称不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",oninput:"if(value.length>80)value=value.slice(0,80)",clearable:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit(e.form.code,e.form.name)}}},[e._v("确 定")])],1)],1):e._e()],1)],1)],1)},staticRenderFns:[]},R=a("VU/8")(M.a,E,!1,null,null,null).exports,L=a("c2dm"),O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout",style:{width:e.scrolWidth,overflow:"auto"}},[a("Layout",[a("Layout",[a("Content",{style:{background:"#ffffff",padding:"0 10px 10px"}},[a("div",{staticClass:"clearfix",staticStyle:{margin:"10px"}},[a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"",clearable:!0},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.Search()}},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户编号"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"",clearable:!0},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.Search()}},model:{value:e.search.code,callback:function(t){e.$set(e.search,"code",t)},expression:"search.code"}})],1)],1),e._v(" "),a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"所属机构"}},[a("tree-select",{staticStyle:{width:"250px","font-size":"small"},attrs:{options:e.data1,placeholder:"请选择所属机构"},model:{value:e.search.nodeCode,callback:function(t){e.$set(e.search,"nodeCode",t)},expression:"search.nodeCode"}})],1)],1),e._v(" "),a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{staticStyle:{width:"200px","font-size":"small"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择角色"},on:{change:e.changeSelect,"remove-tag":e.removeTag},model:{value:e.search.roleCode,callback:function(t){e.$set(e.search,"roleCode",t)},expression:"search.roleCode"}},[a("el-option",{staticStyle:{"font-size":"small"},attrs:{label:"全选",value:"全选"},nativeOn:{click:function(t){return e.selectAll(t)}}}),e._v(" "),e._l(e.data2,function(e,t){return a("el-option",{key:t,staticStyle:{"font-size":"small"},attrs:{label:e.name,value:e.code}})})],2)],1)],1),e._v(" "),a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"是否有效"}},[a("el-select",{staticStyle:{width:"150px","font-size":"small"},attrs:{placeholder:"请选择是否有效",clearable:!0},model:{value:e.search.enabled,callback:function(t){e.$set(e.search,"enabled",t)},expression:"search.enabled"}},[a("el-option",{attrs:{label:"是",value:"Y"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"N"}})],1)],1)],1),e._v(" "),a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0,model:e.search}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchUser()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createInfor()}}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editline()}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteline()}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.resetPasswd()}}},[e._v("密码重置")])],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{border:"",span:0,"row-style":{padding:"0px",height:"10px"},"header-cell-style":e.tableHeaderColor,"cell-style":{padding:"0px"},stripe:"",height:300,data:e.tableData.lineItems.items,"default-sort":{prop:"userId",order:"descending"}},on:{"selection-change":e.handleCurrentChange,"sort-change":e.changeTableSort}},[a("el-table-column",{attrs:{label:"选择","reserve-selection":!1,prop:"uuid",width:"40px",type:"selection"}}),e._v(" "),e._l(e.tableData.table.header,function(t,o){return"id"!=o?a("el-table-column",{key:t,attrs:{label:t,width:e.width(),prop:o,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row[o]))])]}}])}):e._e()})],2),e._v(" "),e.tableData.isShow?a("el-pagination",{attrs:{"current-page":e.tableData.pageIndex,"page-size":e.tableData.fenye.pageSize,layout:"total, prev, pager, next, jumper",total:e.tableData.lineItems.totalCount},on:{"current-change":e.pageChange}}):e._e()],1),e._v(" "),e.tableData.dialogTableVisible?a("el-dialog",{style:{width:e.scrolWidth},attrs:{width:"80%",top:"0",title:"用户信息",visible:e.tableData.dialogTableVisible},on:{"update:visible":function(t){e.$set(e.tableData,"dialogTableVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticClass:"userDialog",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户编号","label-width":e.formLabelWidth,prop:"code",rules:[{required:!0,message:"用户编号不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"font-size":"small"},attrs:{label:"用户名称","label-width":e.formLabelWidth,prop:"name",rules:[{required:!0,message:"用户名称不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",oninput:"if(value.length>10)value=value.slice(0,10)",clearable:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"font-size":"small"},attrs:{label:"所属机构","label-width":e.formLabelWidth,prop:"nodeCode",rules:[{required:!0,message:"所属机构不能为空",trigger:"blur"}]}},[a("tree-select",{staticStyle:{"font-size":"small"},attrs:{options:e.data1,placeholder:"请选择所属机构"},model:{value:e.form.nodeCode,callback:function(t){e.$set(e.form,"nodeCode",t)},expression:"form.nodeCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户角色","label-width":e.formLabelWidth,prop:"roleCode",rules:[{required:!0,message:"用户角色不能为空",trigger:"blur"}]}},[a("el-select",{staticStyle:{"font-size":"small"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择角色"},on:{change:e.changeSelect2,"remove-tag":e.removeTag2},model:{value:e.form.roleCode,callback:function(t){e.$set(e.form,"roleCode",t)},expression:"form.roleCode"}},[a("el-option",{staticStyle:{"font-size":"small"},attrs:{label:"全选",value:"全选"},nativeOn:{click:function(t){return e.selectAll2(t)}}}),e._v(" "),e._l(e.data2,function(e,t){return a("el-option",{key:t,staticStyle:{"font-size":"small"},attrs:{label:e.name,value:e.code}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户头像:",size:"mini"}},[a("el-upload",{ref:"upload",class:{hide:e.hideUpload},attrs:{action:e.serverUrl,data:e.picData,limit:1,"on-preview":e.handlePictureCardPreview,"before-upload":e.beforeAvatarUpload,"on-progress":e.onProgress,"on-success":e.imgSuccess,"on-error":e.imgError,"list-type":"picture-card","on-remove":e.handleRemove,"file-list":e.fileList}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传不超过10MB的图片")])]),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,visible:e.imgVisible,width:"30%"},on:{"update:visible":function(t){e.imgVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:"图片未找到"}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"是否有效","label-width":e.formLabelWidth,prop:"enabled",rules:[{required:!0,message:"是否有效不能为空",trigger:"blur"}]}},[a("el-select",{staticStyle:{"font-size":"small"},attrs:{placeholder:"请选择是否有效",clearable:!0},model:{value:e.form.enabled,callback:function(t){e.$set(e.form,"enabled",t)},expression:"form.enabled"}},[a("el-option",{attrs:{label:"是",value:"Y"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"N"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电话号码","label-width":e.formLabelWidth,prop:"telno",rules:[{required:!0,message:"电话号码不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",oninput:"if(value.length>80)value=value.slice(0,80)",clearable:!0},model:{value:e.form.telno,callback:function(t){e.$set(e.form,"telno",t)},expression:"form.telno"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-6px"},attrs:{label:"获取验证码","label-width":e.formLabelWidth2,prop:"verifyCode"}},[a("el-button",{attrs:{disabled:e.btnChangeEnable,type:"primary"},on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+"s")])],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"-14px"},attrs:{label:"验证码","label-width":e.formLabelWidth,prop:"verifyCode",rules:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",oninput:"if(value.length>80)value=value.slice(0,80)",clearable:!0},model:{value:e.form.verifyCode,callback:function(t){e.$set(e.form,"verifyCode",t)},expression:"form.verifyCode"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit(e.form.code,e.form.name,e.form.nodeCode,e.form.roleCode,e.dialogImageUrl,e.form.enabled,e.form.telno,e.form.verifyCode)}}},[e._v("\n            确 定\n          ")])],1)],1):e._e()],1)],1)],1)},staticRenderFns:[]};var W=function(e){a("fChl")},U=a("VU/8")(L.a,O,!1,W,null,null).exports,V=a("0Q2j");function N(e,t,o){var n=sessionStorage.getItem("userCode");if(null!==n&&void 0!==n)if(console.log(e),console.log(t),"Layout"===e.name&&"Login"===t.name)o();else{var s=a("qzh/");!function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var a=arguments[1];var o="/"+a;if(t&&0!==t.length)for(var n=0,s=t.length;n<s;n++){var l=t[n].route;console.log(o+" "+l),o===l&&(P=t[n].resourceId,console.log(P)),e(t[n].children,a)}}(s.children?s.children:[],e.name),console.log(P);var l={userCode:n,menuId:P};Object(V.a)("/queryLogin",l,0,0).then(function(e){console.log(e),"0"===e.code&&("1"!==e.obj.state?o("/"):o())},function(e){console.log(e)})}else o("/")}var P="";o.default.use(l.a);var z=new l.a({routes:[{path:"/",name:"Login",component:d},{path:"/Layout",name:"Layout",component:g,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/MyGoods",name:"MyGoods",component:p,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/MyMerchants",name:"MyMerchants",component:v,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/GoodsTable",name:"GoodsTable",component:C,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/MerchantsTable",name:"MerchantsTable",component:D,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/UserManagement",name:"UserManagement",component:U,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/RoleManagement",name:"RoleManagement",component:$,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/RoleControl",name:"RoleControl",component:j,beforeEnter:function(e,t,a){N(e,t,a)}},{path:"/NodeManagement",name:"NodeManagement",component:R,beforeEnter:function(e,t,a){N(e,t,a)}}]}),q=a("zL8q"),A=a.n(q),F=(a("tvR6"),a("BTaQ")),H=a.n(F),B=(a("+skl"),{route:"",name1:"",name2:"",active:"",flag:"",count:0,selection:[],userCode:"",data:[],error:""}),Q=a("8+8L");o.default.config.productionTip=!1,o.default.prototype.$eventBus=new o.default,o.default.prototype.global=B,o.default.use(Q.a),o.default.use(H.a),o.default.use(A.a,{size:"mini",zIndex:3e3}),new o.default({el:"#app",router:z,components:{App:s},template:"<App/>"})},PW4a:function(e,t){},QMp1:function(e,t){e.exports={clientPath:"http://132.232.85.202:8080/MANAGE/#",serverPath:"http://132.232.85.202:8011"}},RIgX:function(e,t){},S3y3:function(e,t){},S6Rv:function(e,t){},SYtc:function(e,t,a){"use strict";var o=a("6H2h"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{width:"100%"},style:{width:e.scrolWidth}},[a("div",{staticClass:"clearfix",staticStyle:{margin:"10px"}},[a("el-form",{staticStyle:{height:"40px"},attrs:{inline:!0}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.createInfor()}}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editline()}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteline()}}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{border:"",span:0,"row-style":{padding:"0px",height:"10px"},"header-cell-style":e.tableHeaderColor,"cell-style":{padding:"0px"},stripe:"",height:300,"reserve-selection":!1,data:e.tableData.lineItems.items,"default-sort":{prop:"roleId",order:"descending"}},on:{"selection-change":e.handleCurrentChange,"sort-change":e.changeTableSort}},[a("el-table-column",{attrs:{label:"选择","reserve-selection":!1,prop:"uuid",width:"40px",type:"selection"}}),e._v(" "),e._l(e.tableData.table.header,function(t,o){return"id"!=o?a("el-table-column",{key:t,attrs:{label:t,width:e.width(),prop:o,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row[o]))])]}}])}):e._e()})],2)],1),e._v(" "),e.tableData.isShow?a("el-pagination",{attrs:{"current-page":e.tableData.pageIndex,"page-size":e.tableData.fenye.pageSize,layout:"total, prev, pager, next, jumper",total:e.tableData.lineItems.totalCount},on:{"current-change":e.pageChange}}):e._e(),e._v(" "),e.tableData.dialogTableVisible?a("el-dialog",{style:{width:e.scrolWidth},attrs:{title:"角色信息",visible:e.tableData.dialogTableVisible},on:{"update:visible":function(t){e.$set(e.tableData,"dialogTableVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticClass:"inputWidth",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"角色编号","label-width":e.formLabelWidth,prop:"code",rules:[{required:!0,message:"角色编号不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{readonly:!0},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称","label-width":e.formLabelWidth,prop:"name",rules:[{required:!0,message:"角色名称不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",oninput:"if(value.length>80)value=value.slice(0,80)",clearable:!0},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit(e.form.code,e.form.name)}}},[e._v("确 定")])],1)],1):e._e()],1)},staticRenderFns:[]};var s=function(e){a("RIgX")},l=a("VU/8")(o.a,n,!1,s,null,null);t.a=l.exports},ZDe9:function(e,t){},aggo:function(e,t){},c2dm:function(e,t,a){"use strict";(function(e){var o=a("0Q2j"),n=a("0XjM"),s=a.n(n),l=a("DmJO");a.n(l);t.a={components:{TreeSelect:s.a},data:function(){return{serverUrl:"",btnChangeEnable:!1,hideUpload:!1,imgVisible:!1,dialogImageUrl:"",fileList:[],picData:{name:""},scrolWidth:"0px",show:!0,count:"",timer:null,formLabelWidth:"80px",formLabelWidth2:"100px",search:{name:"",code:"",nodeCode:null,enabled:"",roleCode:""},form:{nodeId:"",code:"",name:"",roleCode:"",nodeCode:null,password:"",verifyCode:"",telno:"",picpath:"",enabled:""},code:"",code2:"",name:"",data1:[],data2:[],tableData:{isShow:!0,dialogTableVisible:!1,lineItems:{items:[],totalCount:0},table:{header:{},width:[]},fenye:{pageIndex:1,pageSize:20}}}},mounted:function(){1!==e.flag&&(this.getTableData("noMsg"),e.flag=0),this.scrolWidth=window.innerWidth+"px",this.route="/queryNode"},created:function(){e.count=0,e.selection=[],this.code="",this.code2="",this.name="";var t=a("QMp1");console.log(t.clientPath),console.log(t.serverPath),this.serverUrl=t.serverPath+"/addPic",console.log(this.serverUrl)},methods:{handleCurrentChange:function(t){e.selection=t},handleBeforeUpload:function(e){"image/png"!==e.type&&"image/gif"!==e.type&&"image/jpg"!==e.type&&"image/jpeg"!==e.type&&this.$notify.warning({title:"警告",message:"请上传格式为image/png, image/gif, image/jpg, image/jpeg的图片"})},beforeAvatarUpload:function(e){var t=e.size/1024/1024<10;return t||this.$message.error("上传头像图片大小不能超过 10MB!"),t},onProgress:function(e,t,a){this.hideUpload=!0},imgSuccess:function(e,t,o){if(console.log(o),console.log(t),this.hideUpload=!0,"0"===e.code){var n=a("QMp1");console.log(n.clientPath),console.log(n.serverPath);var s=e.obj.picpath;this.dialogImageUrl=n.serverPath+s,console.log(this.dialogImageUrl),this.$message({message:"上传图片成功",duration:3e3,type:"success"}),this.getTableData("noMsg")}else e.code,this.dialogImageUrl="",this.fileList=[],this.hideUpload=!1,this.$message.error(e.msg)},imgError:function(e,t,a){this.$message.error("上传失败"+e),this.hideUpload=!1},handlePictureCardPreview:function(e){this.imgVisible=!0,this.hideUpload=!0},handleRemove:function(e,t){var a=this,n={code:this.form.code};Object(o.a)("/deletePic",n,0,0).then(function(e){console.log(e),"0"===e.code?(a.$message({message:e.msg,duration:3e3,type:"success"}),a.dialogImageUrl="",a.hideUpload=!1,a.fileList=[],a.getTableData("noMsg")):a.$message({message:"删除失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})},getCode:function(){var e=this;if(11===this.form.telno.length){if(/^1\d{10}$/.test(this.form.telno)){this.btnChangeEnable=!0;this.timer||(this.count=300,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=300?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null,e.btnChangeEnable=!1)},1e3));var t={message:"",verifyCode:"",telno:this.form.telno,userCode:this.form.code};Object(o.a)("/sendCode",t,0,0).then(function(t){console.log(t),"0"===t.code||(e.$message({message:"发送失败 "+t.msg,duration:3e3,type:"warning"}),e.show=!0,clearInterval(e.timer),e.timer=null,e.btnChangeEnable=!1)},function(t){console.log(t),e.btnChangeEnable=!1})}else this.$message({message:"请输入正确手机号",duration:2e3,type:"warning"})}else this.$message({message:"请输入正确手机号",duration:2e3,type:"warning"})},selectAll:function(){var e=this;this.search.roleCode.length<this.data2.length?(this.search.roleCode=[],this.data2.map(function(t){e.search.roleCode.push(t.code)}),this.search.roleCode.unshift("全选")):this.search.roleCode=[]},changeSelect:function(e){e.includes("全选")||e.length!==this.data2.length?e.includes("全选")&&e.length-1<this.data2.length&&(this.search.roleCode=this.search.roleCode.filter(function(e){return"全选"!==e})):this.search.roleCode.unshift("全选")},removeTag:function(e){"全选"===e&&(this.search.roleCode=[])},selectAll2:function(){var e=this;this.form.roleCode.length<this.data2.length?(this.form.roleCode=[],this.data2.map(function(t){e.form.roleCode.push(t.code)}),this.form.roleCode.unshift("全选")):this.form.roleCode=[]},changeSelect2:function(e){e.includes("全选")||e.length!==this.data2.length?e.includes("全选")&&e.length-1<this.data2.length&&(this.form.roleCode=this.form.roleCode.filter(function(e){return"全选"!==e})):this.form.roleCode.unshift("全选")},removeTag2:function(e){"全选"===e&&(this.form.roleCode=[])},searchUser:function(){var e=this;console.log(this.search.name),console.log(this.search.code),console.log(this.search.nodeCode),console.log(this.search.roleCode),console.log(this.search.enabled);var t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});console.log(this.tableData.fenye.pageIndex),console.log(this.tableData.fenye.pageSize),console.log("get data from server!");var a={userId:0,name:this.search.name,code:this.search.code,nodeCode:this.search.nodeCode,roleCode:this.search.roleCode,nodeName:"",roleName:"",telno:"",password:"",verifyCode:"",picpath:"",enabled:this.search.enabled};Object(o.a)("/queryUser",a,this.tableData.fenye.pageIndex,this.tableData.fenye.pageSize).then(function(t){if(console.log(t),"0"===t.code){e.$message({message:t.msg,duration:3e3,type:"success"});var a={items:t.lobj,totalCount:t.totalCount};e.dealTableData(a)}else e.$message({message:"查询失败 "+t.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),t.close()},resetPasswd:function(){var t=this,a=e.selection;if(void 0!==a.length&&1===a.length){if(!0===confirm("确定要重置吗")){var n={code:a[0].code};Object(o.a)("/resetPasswd",n,0,0).then(function(e){console.log(e),"0"===e.code?(t.getTableData("noMsg"),t.$message({message:e.msg,duration:3e3,type:"success"})):t.$message({message:"重置失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}}else this.$message({message:"请选择一条数据进行重置密码",duration:2e3,type:"warning"})},changeTableSort:function(e){var t=this;console.log(e);var a=e.prop,o=e.order;"createTime"===a&&this.tableData.lineItems.items.map(function(e){e.createTime=t.$moment(e.createTime).valueOf()}),this.tableData.lineItems.items="name"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"roleCode"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"roleName"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"nodeName"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"telno"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"picpath"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"enabled"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a]-e[a]}):this.tableData.lineItems.items.sort(function(e,t){return e[a]-t[a]}),console.log(this.tableData.lineItems.items)},closeDialog:function(){this.form.code="",this.form.name="",this.btnChangeEnable=!1,this.hideUpload=!1,this.imgVisible=!1,this.dialogImageUrl="",this.fileList=[],this.picData={name:""},this.form.nodeId="",this.form.roleCode="",this.form.nodeCode=null,this.form.password="",this.form.passwordOld="",this.form.verifyCode="",this.form.telno="",this.form.picpath="",this.form.enabled="",this.show=!0,clearInterval(this.timer),this.timer=null},handleSelect:function(e){console.log(e[0].id),this.code=e[0].id,this.name=e[0].title;var t=e[0].children,a=t.length;if(a>0){var o=t[a-1].id;console.log(o);var n=parseInt(o)+1;console.log(n);for(var s=""+n,l="",r=0;r<o.length-s.length;r++)l+="0";console.log(l),this.code2=l+s}else this.code2=this.code+"01"},width:function(){return e.count===this.tableData.table.width.length&&(e.count=0),this.tableData.table.width[e.count++]+"px"},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #049EFF;color: #fff;font-weight: 500;"},dealTableData:function(e){this.tableData.lineItems=e,this.tableData.table.header={userId:"用户ID",code:"用户编号",name:"用户名称",roleCode:"用户权限编码",roleName:"用户权限",nodeCode:"用户机构编码",nodeName:"用户机构",telno:"电话",picpath:"图片地址",enabled:"是否有效"},this.tableData.table.width=[100,100,100,200,300,150,200,100,300,100]},pageChange:function(e){this.tableData.fenye.pageIndex=e,this.getTableData("noMsg")},getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];return t&&0!==t.length&&t.forEach(function(t){var o={};o.label=t.title,o.id=t.code,8!==t.code.length&&(o.children=e.getData(t.children)),a.push(o)}),a},getTableData:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(o.a)("/queryNode",null,0,0).then(function(a){if(console.log(a),"0"===a.code){"noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"});var o=a.lobj;t.data1=t.getData(o)}else t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),Object(o.a)("/queryRole",null,0,0).then(function(a){console.log(a),"0"===a.code?("noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"}),t.data2=a.lobj):t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),console.log(this.tableData.fenye.pageIndex),console.log(this.tableData.fenye.pageSize),console.log("get data from server!");Object(o.a)("/queryUser",{userId:0,name:"",code:"",nodeCode:"",roleCode:"",nodeName:"",roleName:"",telno:"",password:"",verifyCode:"",picpath:"",enabled:""},this.tableData.fenye.pageIndex,this.tableData.fenye.pageSize).then(function(a){if(console.log(a),"0"===a.code){"noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"});var o={items:a.lobj,totalCount:a.totalCount};t.dealTableData(o)}else t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),a.close()},createInfor:function(){var e=this;Object(o.a)("/queryUserCode",null,0,0).then(function(t){console.log(t),"0"===t.code?(e.form.code=t.obj.code,e.picData.name=e.form.code,console.log(e.picData),console.log("aaaaaaaaa")):e.$message({message:"查询失败 "+t.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),this.closeDialog(),this.tableData.dialogTableVisible=!0,this.type="createInfor"},editline:function(){var t=this,o=e.selection;if(void 0!==o.length&&1===o.length){if(this.form.userId=o[0].userId,this.form.code=o[0].code,this.picData.name=this.form.code,this.form.name=o[0].name,this.form.roleCode=[],JSON.parse(o[0].roleCode).map(function(e){"全选"===e?t.form.roleCode.unshift("全选"):t.form.roleCode.push(e)}),this.form.nodeCode=o[0].nodeCode,null!==o[0].picpath&&""!==o[0].picpath){var n=a("QMp1");console.log(n.clientPath),console.log(n.serverPath),this.dialogImageUrl=n.serverPath+"/"+o[0].picpath,this.hideUpload=!0,this.fileList=[{name:this.form.code+".jpg",url:this.dialogImageUrl}],console.log(this.fileList)}else this.dialogImageUrl="",this.hideUpload=!1,this.fileList=[];this.form.telno=o[0].telno,this.form.enabled=o[0].enabled,this.tableData.dialogTableVisible=!0,this.type="editline"}else this.$message({message:"请选择一条数据进行修改",duration:2e3,type:"warning"})},deleteline:function(){var t=this,a=e.selection;if(void 0!==a.length&&1===a.length)if("000001"!==a[0].code){if(!0===confirm("确定要删除吗")){var n={code:a[0].code};Object(o.a)("/deleteUser",n,0,0).then(function(e){console.log(e),"0"===e.code?(t.getTableData("noMsg"),t.$message({message:e.msg,duration:3e3,type:"success"})):t.$message({message:"删除失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}}else this.$message({message:"请勿删除内置管理员用户",duration:3e3,type:"warning"});else this.$message({message:"请选择一条数据进行删除",duration:2e3,type:"warning"})},submit:function(e,t,a,n,s,l,r,i){var c=this,d={code:e,name:t,roleCode:n,nodeCode:a,verifyCode:i,telno:r,picpath:s,enabled:l};this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;switch(c.type){case"editline":console.log(d),!1===c.btnChangeEnable&&c.$message({message:"短信验证码失效，请重新发送",duration:3e3,type:"warning"}),Object(o.a)("/updateUser",d,0,0).then(function(e){console.log(e),"0"===e.code?(c.getTableData("noMsg"),c.$message({message:e.msg,duration:3e3,type:"success"}),c.tableData.dialogTableVisible=!1,c.show=!0,clearInterval(c.timer),c.timer=null,c.btnChangeEnable=!1,c.form.verifyCode=""):c.$message({message:"修改失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)});break;case"createInfor":console.log(d),!1===c.btnChangeEnable&&c.$message({message:"短信验证码失效，请重新发送",duration:3e3,type:"warning"}),Object(o.a)("/addUser",d,0,0).then(function(e){console.log(e),"0"===e.code?(c.getTableData("noMsg"),c.$message({message:e.msg,duration:3e3,type:"success"}),c.tableData.dialogTableVisible=!1,c.show=!0,clearInterval(c.timer),c.timer=null,c.btnChangeEnable=!1,c.form.verifyCode=""):c.$message({message:"新增失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}})}}}}).call(t,a("DuR2"))},cZNz:function(e,t,a){"use strict";(function(e){var o=a("0Q2j");t.a={data:function(){return{scrolWidth:"0px",formLabelWidth:"80px",form:{nodeId:"",code:"",name:""},code:"",code2:"",name:"",data1:[],tableData:{isShow:!0,dialogTableVisible:!1,lineItems:{items:[],totalCount:0},table:{header:{},width:[]},fenye:{pageIndex:1,pageSize:20}}}},mounted:function(){1!==e.flag&&(this.getTableData("noMsg"),e.flag=0),this.scrolWidth=window.innerWidth+"px"},created:function(){e.count=0,e.selection=[],this.code="",this.code2="",this.name=""},methods:{changeTableSort:function(e){var t=this;console.log(e);var a=e.prop,o=e.order;"createTime"===a&&this.tableData.lineItems.items.map(function(e){e.createTime=t.$moment(e.createTime).valueOf()}),this.tableData.lineItems.items="name"===a?"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a].localeCompare(e[a])}):this.tableData.lineItems.items.sort(function(e,t){return e[a].localeCompare(t[a])}):"descending"===o?this.tableData.lineItems.items.sort(function(e,t){return t[a]-e[a]}):this.tableData.lineItems.items.sort(function(e,t){return e[a]-t[a]}),console.log(this.tableData.lineItems.items)},closeDialog:function(){this.form.code="",this.form.name=""},handleSelect:function(e){console.log(e[0].id),this.code=e[0].id,this.name=e[0].title;var t=e[0].children,a=t.length;if(a>0){var o=t[a-1].id;console.log(o);var n=parseInt(o)+1;console.log(n);for(var s=""+n,l="",r=0;r<o.length-s.length;r++)l+="0";console.log(l),this.code2=l+s}else this.code2=this.code+"01"},width:function(){return e.count===this.tableData.table.width.length&&(e.count=0),this.tableData.table.width[e.count++]+"px"},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #049EFF;color: #fff;font-weight: 500;"},dealTableData:function(e){this.tableData.lineItems=e,this.tableData.table.header={nodeId:"机构ID",code:"机构编号",name:"机构名称"},this.tableData.table.width=[100,100,200]},pageChange:function(e){this.tableData.fenye.pageIndex=e,this.getTableData("noMsg")},getData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];return t&&0!==t.length&&t.forEach(function(t){var o={};o.title=t.title,o.id=t.code,o.expand=!1,o.selected=!1,o.children=e.getData(t.children),a.push(o)}),a},getTableData:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(o.a)("/queryNode",null,0,0).then(function(a){if(console.log(a),"0"===a.code){"noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"});var o=a.lobj;t.data1=t.getData(o)}else t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),console.log(this.tableData.fenye.pageIndex),console.log(this.tableData.fenye.pageSize),console.log("get data from server!");Object(o.a)("/queryNode",{roleId:0,roleName:"",roleType:"",roleDesc:""},this.tableData.fenye.pageIndex,this.tableData.fenye.pageSize).then(function(a){if(console.log(a),"0"===a.code){"noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"});var o={items:a.lobj,totalCount:a.totalCount};t.dealTableData(o)}else t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),a.close()},createInfor:function(){0!==this.code.length?2!==this.code.length?8!==this.code.length?(this.form.code=this.code2,this.tableData.dialogTableVisible=!0,this.type="createInfor"):this.$message({message:"不能选择叶子节点机构作为新建机构的上级机构",duration:2e3,type:"warning"}):this.$message({message:"不能选择根节点机构作为新建机构的上级机构",duration:2e3,type:"warning"}):this.$message({message:"新建机构失败请在左侧机构树选择上级机构",duration:2e3,type:"warning"})},editline:function(){0!==this.code.length?2!==this.code.length&&4!==this.code.length?(this.form.code=this.code,this.form.name=this.name,this.tableData.dialogTableVisible=!0,this.type="editline"):this.$message({message:"不能修改2级及其以上机构",duration:2e3,type:"warning"}):this.$message({message:"修改机构失败请在左侧机构树选择要修改的机构",duration:2e3,type:"warning"})},deleteline:function(){var e=this;if(0!==this.code.length)if(2!==this.code.length&&4!==this.code.length){if(!0===confirm("确定要删除吗")){var t={code:""};t.code=this.code,Object(o.a)("/deleteNode",t,0,0).then(function(t){console.log(t),"0"===t.code?(e.getTableData("noMsg"),e.tableData.dialogTableVisible=!1,e.$message({message:t.msg,duration:3e3,type:"success"})):e.$message({message:"删除失败 "+t.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}}else this.$message({message:"不能删除2级及其以上机构",duration:2e3,type:"warning"});else this.$message({message:"删除机构失败请在左侧机构树选择要删除的机构",duration:2e3,type:"warning"})},submit:function(e,t){var a=this,n={code:e,name:t};this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;switch(a.type){case"editline":console.log(n),Object(o.a)("/updateNode",n,0,0).then(function(e){console.log(e),"0"===e.code?(a.getTableData("noMsg"),a.tableData.dialogTableVisible=!1,a.$message({message:e.msg,duration:3e3,type:"success"})):a.$message({message:"修改失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)});break;case"createInfor":console.log(n),Object(o.a)("/addNode",n,0,0).then(function(e){console.log(e),"0"===e.code?(a.getTableData("noMsg"),a.tableData.dialogTableVisible=!1,a.$message({message:e.msg,duration:3e3,type:"success"})):a.$message({message:"新增失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}})}}}}).call(t,a("DuR2"))},d5UD:function(e,t){},fChl:function(e,t){},gkj1:function(e,t,a){"use strict";(function(e){var o=a("//Fk"),n=a.n(o),s=a("SYtc"),l=a("0Q2j");t.a={name:"index",components:{RoleManagementPage:s.a},data:function(){return{tableData:{isShow:!0,dialogTableVisible:!1,lineItems:{items:[],totalCount:0},table:{header:{},width:[]},fenye:{pageIndex:1,pageSize:20}}}},mounted:function(){1!==e.flag&&(this.getTableData("noMsg"),e.flag=0)},methods:{dealTableData:function(e){this.tableData.lineItems=e,this.tableData.table.header={roleId:"角色ID",code:"角色编号",name:"角色名称"},this.tableData.table.width=[100,100,200]},sleep:function(e){return new n.a(function(t){return setTimeout(t,e)})},getTableData:function(e){var t=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});console.log(this.tableData.fenye.pageIndex),console.log(this.tableData.fenye.pageSize),console.log("get data from server!");Object(l.a)("/queryRole",{roleId:0,code:"",name:""},this.tableData.fenye.pageIndex,this.tableData.fenye.pageSize).then(function(a){if(console.log(a),"0"===a.code){"noMsg"!==e&&t.$message({message:a.msg,duration:3e3,type:"success"});var o={items:a.lobj,totalCount:a.totalCount};t.dealTableData(o)}else t.$message({message:"查询失败 "+a.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}),a.close()},pageChange:function(e){console.log(e),this.tableData.fenye.pageIndex=e,this.getTableData("noMsg")},createInfor:function(e){var t=this;console.log("新建条目 "),console.log(e),Object(l.a)("/addRole",e,0,0).then(function(e){console.log(e),"0"===e.code?(t.$message({message:"创建成功",duration:3e3,type:"success"}),t.tableData.dialogTableVisible=!1,t.getTableData("noMsg")):t.$message({message:"创建失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})},deleteline:function(e){var t=this;console.log("删除条目 "),console.log(e),"000001"!==e.code&&"000002"!==e.code?Object(l.a)("/deleteRole",e,0,0).then(function(e){console.log(e),"0"===e.code?(t.$message({message:"删除成功",duration:3e3,type:"success"}),t.tableData.dialogTableVisible=!1,t.getTableData("noMsg")):t.$message({message:"删除失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)}):this.$message({message:"删除失败 基本权限无法删除",duration:3e3,type:"warning"})},editline:function(e){var t=this;console.log("修改条目 "),console.log(e),Object(l.a)("/updateRole",e,0,0).then(function(e){console.log(e),"0"===e.code?(t.$message({message:"修改成功",duration:3e3,type:"success"}),t.tableData.dialogTableVisible=!1,t.getTableData("noMsg")):t.$message({message:"修改失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}}}}).call(t,a("DuR2"))},iSp9:function(e,t){},mBjh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var a=document.createElement("_"),o=a.appendChild(document.createElement("_")),n=a.appendChild(document.createElement("_")),s=o.appendChild(document.createElement("_")),l=void 0,r=void 0;return o.style.cssText=a.style.cssText="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",s.style.cssText=n.style.cssText="display:block;height:100%;transition:0s;width:100%",s.style.width=s.style.height="200%",e.appendChild(a),i(),function(){c(),e.removeChild(a)};function i(){c();var s=e.offsetWidth,d=e.offsetHeight;s===l&&d===r||(l=s,r=d,n.style.width=2*s+"px",n.style.height=2*d+"px",a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight,t({width:s,height:d})),o.addEventListener("scroll",i),a.addEventListener("scroll",i)}function c(){o.removeEventListener("scroll",i),a.removeEventListener("scroll",i)}}},nT9i:function(e,t){},"qzh/":function(e,t){e.exports={resourceOrder:null,resourceId:0,resourceExtendAttr:"0",route:"root",resourceCode:"root",parentResId:-1,show:"false",text:"CRM管理平台",children:[{resourceOrder:1,resourceId:100,resourceExtendAttr:"1",route:"/a",resourceCode:"a",parentResId:0,show:"false",text:"商户管理",children:[{resourceOrder:1,resourceId:101,resourceExtendAttr:"1-1",route:"/MyMerchants",resourceCode:"MyMerchants",parentResId:100,parentName:"商户管理",show:"false",text:"我的商户"}]},{resourceOrder:2,resourceId:200,resourceExtendAttr:"2",route:"/b",resourceCode:"b",parentResId:0,show:"false",text:"商品管理",children:[{resourceOrder:1,resourceId:201,resourceExtendAttr:"2-1",route:"/MyGoods",resourceCode:"MyGoods",parentResId:200,parentName:"商品管理",show:"false",text:"我的商品"}]},{resourceOrder:3,resourceId:300,resourceExtendAttr:"3",route:"/c",resourceCode:"c",parentResId:0,show:"false",text:"报表管理",children:[{resourceOrder:1,resourceId:301,resourceExtendAttr:"3-1",route:"/MerchantsTable",resourceCode:"MerchantsTable",parentResId:300,parentName:"报表管理",show:"false",text:"商户报表"},{resourceOrder:2,resourceId:302,resourceExtendAttr:"3-2",route:"/GoodsTable",resourceCode:"GoodsTable",parentResId:300,parentName:"报表管理",show:"false",text:"商品报表"}]},{resourceOrder:4,resourceId:400,resourceExtendAttr:"4",route:"/d",resourceCode:"d",parentResId:0,show:"false",text:"系统管理",children:[{resourceOrder:1,resourceId:401,resourceExtendAttr:"4-1",route:"/RoleManagement",resourceCode:"RoleManagement",parentResId:400,parentName:"系统管理",show:"false",text:"角色管理"},{resourceOrder:2,resourceId:402,resourceExtendAttr:"4-2",route:"/NodeManagement",resourceCode:"NodeManagement",parentResId:400,parentName:"系统管理",show:"false",text:"机构管理"},{resourceOrder:3,resourceId:403,resourceExtendAttr:"4-3",route:"/UserManagement",resourceCode:"UserManagement",parentResId:400,parentName:"系统管理",show:"false",text:"用户管理"},{resourceOrder:4,resourceId:404,resourceExtendAttr:"4-4",route:"/RoleControl",resourceCode:"RoleControl",parentResId:400,parentName:"系统管理",show:"false",text:"权限分配"}]}]}},sonc:function(e,t,a){"use strict";(function(e){var o=a("0Q2j"),n=a("zRp2");t.a={data:function(){return{formLabelWidth:"80px",formLabelWidth2:"100px",scrolWidth:"0px",btnChangeEnable:!1,show:!0,count:"",timer:null,form:{userCode:"",code:"",password:""},rules:{usercode:[{required:!0,message:"用户编号不能为空",trigger:"blur"},{min:6,max:6,message:"用户编号6位",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:20,message:"密码6-20位",trigger:"blur"}]},tableData:{dialogTableVisible:!1}}},mounted:function(){e.route="",e.name1="",e.name2="",e.active="",e.flag="",e.count=0,e.selection=[],e.userCode="",this.scrolWidth=window.innerWidth+"px"},methods:{closeDialog:function(){this.form.code="",this.btnChangeEnable=!1,this.form.password="",this.show=!0,clearInterval(this.timer),this.timer=null},getCode:function(){var e=this;this.btnChangeEnable=!0;this.timer||(this.count=300,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=300?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null,e.btnChangeEnable=!1)},1e3));var t={message:"",verifyCode:"",telno:"",userCode:this.form.code};Object(o.a)("/sendCode",t,0,0).then(function(t){console.log(t),"0"===t.code||(e.$message({message:"发送失败 "+t.msg,duration:3e3,type:"warning"}),e.show=!0,clearInterval(e.timer),e.timer=null,e.btnChangeEnable=!1)},function(t){console.log(t),e.btnChangeEnable=!1})},submitForm:function(t){var a=this;this.$refs[t].validate(function(t){if(!t)return console.log("验证失败"),!1;var s={message:"",verifyCode:"",telno:"",userCode:a.form.userCode};Object(o.a)("/sendCode2",s,0,0).then(function(t){if(console.log(t),"0"===t.code){var s=Object(n.a)(a.form.password)+t.obj.verifyCode,l=Object(n.a)(s),r={code:a.form.userCode,password:l};Object(o.a)("/checkPasswd",r,0,0).then(function(t){"0"===t.code?(e.userCode=a.form.userCode,sessionStorage.setItem("userCode",a.form.userCode),a.$router.replace("/Layout")):a.$message({message:"验证失败 "+t.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}else a.$message({message:"验证失败 "+t.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})})},forgetPassword:function(){this.closeDialog(),this.form.code=this.form.userCode,this.tableData.dialogTableVisible=!0,this.type="editline"},submit:function(e,t,a){var s=this,l={code:e,password:Object(n.a)(a),verifyCode:t};this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;switch(s.type){case"editline":console.log(l),!1===s.btnChangeEnable&&s.$message({message:"短信验证码失效，请重新发送",duration:3e3,type:"warning"}),Object(o.a)("/updatePassword",l,0,0).then(function(e){console.log(e),"0"===e.code?(s.$message({message:e.msg,duration:3e3,type:"success"}),s.tableData.dialogTableVisible=!1,s.show=!0,clearInterval(s.timer),s.timer=null,s.btnChangeEnable=!1,s.form.verifyCode=""):s.$message({message:"修改失败 "+e.msg,duration:3e3,type:"warning"})},function(e){console.log(e)})}})}}}}).call(t,a("DuR2"))},tvR6:function(e,t){},wK7e:function(e,t){},zRp2:function(e,t,a){"use strict";t.a=i;var o,n,s=0,l="",r=8;function i(e){return y(c(b(e),e.length*r))}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,o=-271733879,n=-1732584194,s=271733878,l=0;l<e.length;l+=16){var r=a,i=o,c=n,d=s;o=g(o=g(o=g(o=g(o=h(o=h(o=h(o=h(o=m(o=m(o=m(o=m(o=u(o=u(o=u(o=u(o,n=u(n,s=u(s,a=u(a,o,n,s,e[l+0],7,-680876936),o,n,e[l+1],12,-389564586),a,o,e[l+2],17,606105819),s,a,e[l+3],22,-1044525330),n=u(n,s=u(s,a=u(a,o,n,s,e[l+4],7,-176418897),o,n,e[l+5],12,1200080426),a,o,e[l+6],17,-1473231341),s,a,e[l+7],22,-45705983),n=u(n,s=u(s,a=u(a,o,n,s,e[l+8],7,1770035416),o,n,e[l+9],12,-1958414417),a,o,e[l+10],17,-42063),s,a,e[l+11],22,-1990404162),n=u(n,s=u(s,a=u(a,o,n,s,e[l+12],7,1804603682),o,n,e[l+13],12,-40341101),a,o,e[l+14],17,-1502002290),s,a,e[l+15],22,1236535329),n=m(n,s=m(s,a=m(a,o,n,s,e[l+1],5,-165796510),o,n,e[l+6],9,-1069501632),a,o,e[l+11],14,643717713),s,a,e[l+0],20,-373897302),n=m(n,s=m(s,a=m(a,o,n,s,e[l+5],5,-701558691),o,n,e[l+10],9,38016083),a,o,e[l+15],14,-660478335),s,a,e[l+4],20,-405537848),n=m(n,s=m(s,a=m(a,o,n,s,e[l+9],5,568446438),o,n,e[l+14],9,-1019803690),a,o,e[l+3],14,-187363961),s,a,e[l+8],20,1163531501),n=m(n,s=m(s,a=m(a,o,n,s,e[l+13],5,-1444681467),o,n,e[l+2],9,-51403784),a,o,e[l+7],14,1735328473),s,a,e[l+12],20,-1926607734),n=h(n,s=h(s,a=h(a,o,n,s,e[l+5],4,-378558),o,n,e[l+8],11,-2022574463),a,o,e[l+11],16,1839030562),s,a,e[l+14],23,-35309556),n=h(n,s=h(s,a=h(a,o,n,s,e[l+1],4,-1530992060),o,n,e[l+4],11,1272893353),a,o,e[l+7],16,-155497632),s,a,e[l+10],23,-1094730640),n=h(n,s=h(s,a=h(a,o,n,s,e[l+13],4,681279174),o,n,e[l+0],11,-358537222),a,o,e[l+3],16,-722521979),s,a,e[l+6],23,76029189),n=h(n,s=h(s,a=h(a,o,n,s,e[l+9],4,-640364487),o,n,e[l+12],11,-421815835),a,o,e[l+15],16,530742520),s,a,e[l+2],23,-995338651),n=g(n,s=g(s,a=g(a,o,n,s,e[l+0],6,-198630844),o,n,e[l+7],10,1126891415),a,o,e[l+14],15,-1416354905),s,a,e[l+5],21,-57434055),n=g(n,s=g(s,a=g(a,o,n,s,e[l+12],6,1700485571),o,n,e[l+3],10,-1894986606),a,o,e[l+10],15,-1051523),s,a,e[l+1],21,-2054922799),n=g(n,s=g(s,a=g(a,o,n,s,e[l+8],6,1873313359),o,n,e[l+15],10,-30611744),a,o,e[l+6],15,-1560198380),s,a,e[l+13],21,1309151649),n=g(n,s=g(s,a=g(a,o,n,s,e[l+4],6,-145523070),o,n,e[l+11],10,-1120210379),a,o,e[l+2],15,718787259),s,a,e[l+9],21,-343485551),a=p(a,r),o=p(o,i),n=p(n,c),s=p(s,d)}return[a,o,n,s]}function d(e,t,a,o,n,s){return p((l=p(p(t,e),p(o,s)))<<(r=n)|l>>>32-r,a);var l,r}function u(e,t,a,o,n,s,l){return d(t&a|~t&o,e,t,n,s,l)}function m(e,t,a,o,n,s,l){return d(t&o|a&~o,e,t,n,s,l)}function h(e,t,a,o,n,s,l){return d(t^a^o,e,t,n,s,l)}function g(e,t,a,o,n,s,l){return d(a^(t|~o),e,t,n,s,l)}function f(e,t){if(void 0===e)return[];if(void 0===t)return[];var a=b(e);a.length>16&&(a=c(a,e.length*r));for(var o=Array(16),n=Array(16),s=0;s<16;s++)o[s]=909522486^a[s],n[s]=1549556828^a[s];var l=c(o.concat(b(t)),512+t.length*r);return c(n.concat(l),640)}function p(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function b(e){if(void 0===e)return[];for(var t=[],a=(1<<r)-1,o=0;o<e.length*r;o+=r)t[o>>5]|=(e.charCodeAt(o/r)&a)<<o%32;return t}function v(e){for(var t="",a=(1<<r)-1,o=0;o<32*e.length;o+=r)t+=String.fromCharCode(e[o>>5]>>>o%32&a);return t}function y(e){for(var t=s?"0123456789ABCDEF":"0123456789abcdef",a="",o=0;o<4*e.length;o++)a+=t.charAt(e[o>>2]>>o%4*8+4&15)+t.charAt(e[o>>2]>>o%4*8&15);return a}function C(e){for(var t="",a=0;a<4*e.length;a+=3)for(var o=(e[a>>2]>>a%4*8&255)<<16|(e[a+1>>2]>>(a+1)%4*8&255)<<8|e[a+2>>2]>>(a+2)%4*8&255,n=0;n<4;n++)8*a+6*n>32*e.length?t+=l:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>6*(3-n)&63);return t}console.log(i("abc")),console.log(C(c(b(o="abc"),o.length*r))),console.log(function(e){return v(c(b(e),e.length*r))}("abc")),console.log(y(f("abc",n))),console.log(function(e,t){return C(f(e,t))}("abc")),console.log(function(e,t){return v(f(e,t))}("abc"))}},["NHnr"]);
//# sourceMappingURL=app.a290d80ff6f259b0bdb8.js.map